!function(){"use strict";var o=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return o(n())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),I=function(t){return parseInt(t.getParam("autoresize_min_height",t.getElement().offsetHeight),10)},_=function(t){return parseInt(t.getParam("autoresize_max_height",0),10)},i=function(t){return t.getParam("autoresize_overflow_padding",1)},a=function(t){return t.getParam("autoresize_bottom_margin",50)},n=function(t){return t.getParam("autoresize_on_init",!0)},s=function(t,e,n,o,i){r.setEditorTimeout(t,function(){O(t,e),n--?s(t,e,n,o,i):i&&i()},o)},j=function(t,e){var n=t.getBody();if(n&&(n.style.overflowY=e?"":"hidden",!e)){n.scrollTop=0;try{n.ownerDocument.documentElement.scrollTop=0}catch(t){}}},O=function(t,e){var n,o,i,r,a,s,l,u,c,d,g,f=t.dom;if(o=t.getDoc())if((m=t).plugins.fullscreen&&m.plugins.fullscreen.isFullscreen())j(t,!0);else{var m;i=o.body,r=I(t),s=f.getStyle(i,"margin-top",!0),l=f.getStyle(i,"margin-bottom",!0),u=f.getStyle(i,"padding-top",!0),c=f.getStyle(i,"padding-bottom",!0),d=f.getStyle(i,"border-top-width",!0),g=f.getStyle(i,"border-bottom-width",!0),f.setStyle(o.body,"min-height",0),a=i.offsetHeight+parseInt(s,10)+parseInt(l,10)+parseInt(u,10)+parseInt(c,10)+parseInt(d,10)+parseInt(g,10),(isNaN(a)||a<=0)&&(a=z.ie?i.scrollHeight:z.webkit&&0===i.clientHeight?0:i.offsetHeight),a>I(t)&&(r=a);var y=_(t);y&&y<a?(r=y,j(t,!0)):j(t,!1);var p=f.getStyle(o.body,"zoom"),h=!1;if(p||(p=f.getStyle(o.body,"-moz-transform"))&&(h=!0,p=100*p.replace("scale(","").replace(")","")),p&&(s=parseInt(s,10),l=parseInt(l,10),p=parseInt(p,10),r=Math.round(p/100*r),h?r+=s:Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject&&(r+=s+3),!f.getAttrib(o.body,"data-adjusted-for-zoom"))){var b=f.getStyle(o.body,"margin",!0);if(!b||"{"==b.substr(0,1))if(Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject)b=null;else{var v=getComputedStyle(o.body);b=v.marginTop+" "+v.marginLeft}if(h&&f.setStyle(o.body,"width",Math.round(100/p*100)-5+"%"),b&&2==(b=b.split(" ")).length){var w=Math.round(parseInt(b[0],10)/(p/100)),S=Math.round(parseInt(b[1],10)/(p/100));f.setStyle(o.body,"margin",w+"px "+S+"px"),f.setAttrib(o.body,"data-adjusted-for-zoom","1")}}r!==e.get()&&(n=r-e.get(),f.setStyle(t.iframeElement,"height",r+"px"),e.set(r),z.webkit&&n<0&&O(t,e))}},l={setup:function(o,e){o.on("init",function(){var t,e,n=o.dom;t=i(o),e=a(o),!1!==t&&n.setStyles(o.getBody(),{paddingLeft:t,paddingRight:t}),!1!==e&&n.setStyles(o.getBody(),{paddingBottom:e})}),o.on("nodechange setcontent keyup FullscreenStateChanged",function(t){O(o,e)}),n(o)&&o.on("init",function(){s(o,e,20,100,function(){s(o,e,5,1e3)})})},resize:O},u=function(t,e){t.addCommand("mceAutoResize",function(){l.resize(t,e)})};t.add("autoresizecustom",function(t){if(!t.inline){var e=o(0);u(t,e),l.setup(t,e)}})}();