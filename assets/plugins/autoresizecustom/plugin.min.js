!function(){"use strict";var o=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return o(n())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),I=function(t){return parseInt(t.getParam("autoresize_min_height",t.getElement().offsetHeight),10)},_=function(t){return parseInt(t.getParam("autoresize_max_height",0),10)},i=function(t){return t.getParam("autoresize_overflow_padding",1)},a=function(t){return t.getParam("autoresize_bottom_margin",50)},n=function(t){return t.getParam("autoresize_on_init",!0)},s=function(t,e,n,o,i){r.setEditorTimeout(t,function(){P(t,e),n--?s(t,e,n,o,i):i&&i()},o)},w=function(t,e){var n=t.getBody();n&&(n.style.overflowY=e?"":"hidden",e||(n.scrollTop=0))},P=function(t,e){var n,o,i,r,a,s,u,l,d,g,c,f=t.dom;if(o=t.getDoc())if((m=t).plugins.fullscreen&&m.plugins.fullscreen.isFullscreen())w(t,!0);else{var m;i=o.body,r=I(t),s=f.getStyle(i,"margin-top",!0),u=f.getStyle(i,"margin-bottom",!0),l=f.getStyle(i,"padding-top",!0),d=f.getStyle(i,"padding-bottom",!0),g=f.getStyle(i,"border-top-width",!0),c=f.getStyle(i,"border-bottom-width",!0),a=i.offsetHeight+parseInt(s,10)+parseInt(u,10)+parseInt(l,10)+parseInt(d,10)+parseInt(g,10)+parseInt(c,10),(isNaN(a)||a<=0)&&(a=z.ie?i.scrollHeight:z.webkit&&0===i.clientHeight?0:i.offsetHeight),a>I(t)&&(r=a);var p=_(t);p&&p<a?(r=p,w(t,!0)):w(t,!1);var y=f.getStyle(o.body,"zoom"),h=!1;if(y||(y=f.getStyle(o.body,"-moz-transform"))&&(h=!0,y=100*y.replace("scale(","").replace(")","")),y&&(s=parseInt(s,10),u=parseInt(u,10),y=parseInt(y,10),r=Math.round(y/100*r),h&&(r+=s),!f.getAttrib(o.body,"data-adjusted-for-zoom"))){var b=f.getStyle(o.body,"margin",!0);if(h&&f.setStyle(o.body,"width",Math.round(100/y*100)-5+"%"),b&&2==(b=b.split(" ")).length){var v=Math.round(parseInt(b[0],10)/(y/100)),S=Math.round(parseInt(b[1],10)/(y/100));f.setStyle(o.body,"margin",v+"px "+S+"px"),f.setAttrib(o.body,"data-adjusted-for-zoom","1")}}r!==e.get()&&(n=r-e.get(),f.setStyle(t.iframeElement,"height",r+"px"),e.set(r),z.webkit&&n<0&&P(t,e))}},u={setup:function(o,e){o.on("init",function(){var t,e,n=o.dom;t=i(o),e=a(o),!1!==t&&n.setStyles(o.getBody(),{paddingLeft:t,paddingRight:t}),!1!==e&&n.setStyles(o.getBody(),{paddingBottom:e})}),o.on("nodechange setcontent keyup FullscreenStateChanged",function(t){P(o,e)}),n(o)&&o.on("init",function(){s(o,e,20,100,function(){s(o,e,5,1e3)})})},resize:P},l=function(t,e){t.addCommand("mceAutoResize",function(){u.resize(t,e)})};t.add("autoresizecustom",function(t){if(!t.inline){var e=o(0);l(t,e),u.setup(t,e)}})}();